<golden-page-header headerText="Impostazioni"></golden-page-header>

<div class="m-10 rounded-lg shadow-lg bg-white p-4">
  <div
    class="text-sm font-medium text-center text-gray-500 border-b border-gray-200"
  >
    <ul class="flex flex-wrap -mb-px">
      <li class="mr-2">
        <a
          *ngFor="let tab of TabsItems"
          routerLink="/settings"
          [queryParams]="{ tab: tab.tabId }"
          routerLinkActive="border-app-main-color-300"
          class="inline-block p-4 rounded-t-lg border-b-2 border-transparent text-app-main-color-400 hover:text-app-main-color-500 hover:border-legio-gold-500"
          >{{ tab.label }}</a
        >
      </li>
    </ul>
  </div>

  <ng-container
    [ngTemplateOutlet]="account"
    *ngIf="'account' === currentTab"
  ></ng-container>
</div>

<ng-template #account>
  <div class="space-x-2 mt-6">
    <div class="md:flex justify-between md:my-4 divide-y md:divide-y-0">
      <div class="py-4 md:py-0">
        <button
          class="bg-legio-gold rounded shadow p-2 text-sm font-medium text-white hover:bg-legio-gold-600"
        >
          Carica Un Documento
        </button>
      </div>
      <div class="md:border-l md:w-8/12 lg:w-6/12 py-4 md:py-0">
        <app-user-form
          [user]="currentUser"
          (formSubmitted)="editUser($event).subscribe()"
          [loading]="loading"
          [toHide]="[
            'role',
            'password',
            'passwordConfirm',
            'battleName',
            'legioMembershipDate',
            'figtMembership',
            'legioMembershipSubscriptionCost'
          ]"
        ></app-user-form>
      </div>
    </div>

    <div class="border-t mt-2">
      <div class="flex w-full pt-6 pb-2 justify-end">
        <button
          class="p-2 bg-red-700 hover:bg-red-800 rounded text-sm shadow font-medium text-white flex space-x-2"
          (click)="deleteUser().subscribe()"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-5 w-5"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
            stroke-width="2"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"
            />
          </svg>
          <div>Elimina Account</div>
        </button>
      </div>
    </div>
  </div>
</ng-template>
