<golden-page-header
  [currentCrumb]="{
    label: 'Aggiungi Comunicazione',
    routerLink: '/announcements/add',
    svgPath: [
      'M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9'
    ]
  }"
></golden-page-header>

<div class="m-2 md:m-10 shadow-md rounded-xl">
  <div class="bg-white p-10 space-y-6 rounded-t-xl">
    <div>
      <label for="title" class="text-lg font-medium text-slate-500"
        >Titolo <span class="text-red-500">*</span></label
      >
      <div class="mx-4 flex bg-legio-green-100 rounded-lg shadow text-gray-200">
        <div class="flex flex-col justify-center">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="w-8 h-8 p-1"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.697 50.697 0 0112 13.489a50.702 50.702 0 017.74-3.342M6.75 15a.75.75 0 100-1.5.75.75 0 000 1.5zm0 0v-3.675A55.378 55.378 0 0112 8.443m-7.007 11.55A5.981 5.981 0 006.75 15.75v-1.5"
            />
          </svg>
        </div>

        <input
          type="text"
          id="title"
          placeholder="Es. Pubblicato il verbale della riunione.."
          class="border rounded-lg w-full px-4 py-2 text-black"
          [(ngModel)]="data.title"
        />
      </div>
    </div>
    <div>
      <label for="description" class="text-lg font-medium text-slate-500"
        >Descrizione <span class="text-red-500">*</span></label
      >
      <div class="mx-4 shadow rounded-xl">
        <textarea
          [froalaEditor]="froalaOptions"
          id="description"
          [(ngModel)]="data.description"
        ></textarea>
      </div>
    </div>
    <div>
      <label for="atleti" class="text-lg font-medium text-slate-500"
        >Atelti <span class="text-red-500">*</span></label
      >

      <div class="mx-4 flex bg-legio-green-100 rounded-lg text-gray-200 shadow">
        <div class="flex flex-col justify-center">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="w-8 h-8 p-1"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zM3.75 12h.007v.008H3.75V12zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm-.375 5.25h.007v.008H3.75v-.008zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"
            />
          </svg>
        </div>
        <ng-multiselect-dropdown
          id="atleti"
          class="w-full rounded-lg bg-white text-gray-400 whitespace-nowrap hover:bg-gray-100"
          placeholder="Seleziona degli atleti"
          [settings]="dropdownSettings"
          [data]="(users$ | async) || []"
          [(ngModel)]="selectedUsers"
          (onSelect)="handleSelectUser($any($event))"
          (onSelectAll)="handleSelectAllUsers($any($event))"
          (onDeSelect)="handleUnSelectUser($any($event))"
          (onDeSelectAll)="data.users = []"
        >
        </ng-multiselect-dropdown>
      </div>
    </div>
    <div>
      <label for="location" class="text-lg font-medium text-slate-500"
        >Posizione</label
      >
      <div class="mx-4 flex bg-legio-green-100 rounded-lg text-gray-200 shadow">
        <div class="flex flex-col justify-center">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="w-8 h-8 p-1"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z"
            />
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z"
            />
          </svg>
        </div>
        <input
          type="text"
          placeholder="Es. Via Roma 220 Prato, PO 59100"
          class="border rounded-lg w-full px-4 py-2 text-black"
          id="location"
          [(ngModel)]="data.location"
        />
      </div>
    </div>
    <div class="my-4 py-4 border-t">
      <div>
        <label for="upload" class="text-lg font-medium text-slate-500"
          >Carica un documento</label
        >
        <div class="mx-4">
          <app-upload-file
            id="upload"
            class="rounded-lg shadow"
            (fileChanged)="handleFileChanged($event)"
          ></app-upload-file>
        </div>
      </div>
    </div>
  </div>
  <div class="flex justify-end border-t bg-gray-50 rounded-b-lg p-4">
    <button
      class="navigation-button flex justify-between space-x-4 disabled:bg-gray-100 disabled:pointer-events-none disabled:text-gray-600 disabled:shadow"
      [disabled]="
        !data.title?.length || !data.description?.length || !data.users?.length
      "
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 24 24"
        fill="currentColor"
        class="w-6 h-6 mr-2"
      >
        <path
          d="M3.478 2.405a.75.75 0 00-.926.94l2.432 7.905H13.5a.75.75 0 010 1.5H4.984l-2.432 7.905a.75.75 0 00.926.94 60.519 60.519 0 0018.445-8.986.75.75 0 000-1.218A60.517 60.517 0 003.478 2.405z"
        />
      </svg>

      Invia comunicazione
    </button>
  </div>
</div>
